<%# ヘッダー %>
<% content_for :header do %>
  <%= render 'shared/header', back_path: root_path, title: "ログイン", bg_color: "bg-orange-300" %>
<% end %>

<%# メインコンテナ %>
<div class="min-h-screen bg-[#F7F3C7] flex flex-col items-center px-6 pb-10 font-sans text-gray-800">

  <%# 1. ロゴエリア %>
  <div class="mt-10 pt-4 pb-4 w-full flex justify-center">
    <div class="size-44 bg-white shadow-sm rounded flex items-center justify-center">
      <span class="text-2xl font-bold tracking-[0.35em] leading-loose text-gray-900 writing-vertical">
        ロ<br />ゴ
      </span>
    </div>
  </div>

  <%# 2. フォームエリア %>
  <div class="w-full max-w-sm">
    <%= form_with(model: resource, url: session_path(resource_name), class: "space-y-6") do |f| %>

      <%# メールアドレス %>
      <div class="field">
        <%= f.label :email, "メールアドレス", class: "block text-sm font-bold mb-2" %>
        <%= f.email_field :email, autofocus: true, autocomplete: "email", placeholder: "shiroi_chizu@test.com",
            class: "w-full px-4 py-3 rounded-xl border-none shadow-sm text-gray-700 placeholder-gray-400 focus:ring-2 focus:ring-orange-300 outline-none" %>
      </div>

      <%# パスワード %>
      <div class="field">
        <%= f.label :password, "パスワード", class: "block text-sm font-bold mb-2" %>
        <div class="relative">
          <%= f.password_field :password, autocomplete: "current-password", placeholder: "••••••••••••••••",
              class: "w-full px-4 py-3 rounded-xl border-none shadow-sm text-gray-700 placeholder-gray-400 focus:ring-2 focus:ring-orange-300 outline-none tracking-widest" %>

          <%# 目のアイコン（見た目のみ） %>
          <div class="absolute inset-y-0 right-0 pr-3 flex items-center cursor-pointer text-gray-500">
            <%= lucide_icon('eye', class: "w-6 h-6") %>
          </div>
        </div>
      </div>

      <%# ログインしたままにする & ボタンエリア %>
      <div class="flex flex-col items-center gap-3 mt-4">

        <% if devise_mapping.rememberable? %>
          <div class="flex items-center gap-2">
            <%= f.check_box :remember_me, checked: true, class: "w-5 h-5 rounded border-gray-300 text-orange-400 focus:ring-orange-400" %>
            <%= f.label :remember_me, "ログインしたままにする", class: "text-sm font-medium" %>
          </div>
        <% end %>

        <%# ログインボタン（小さめのオレンジボタン） %>
        <%= f.submit "ログイン", class: "bg-orange-400 hover:bg-orange-500 text-white font-bold py-2 px-10 rounded-full shadow-md cursor-pointer transition" %>

        <%# パスワードを忘れた場合 %>
        <%- if devise_mapping.recoverable? && controller_name != 'passwords' && controller_name != 'registrations' %>
          <%= link_to "パスワードを忘れた場合はこちら", new_password_path(resource_name), class: "text-xs text-gray-400 hover:text-gray-600" %>
        <% end %>
      </div>

    <% end %>
  </div>

  <%# 3. フッターエリア（新規登録） %>
  <div class="mt-auto w-full max-w-sm pt-10">
    <p class="text-center text-xs text-gray-400 mb-2">アカウントをお持ちでない方は</p>

    <%# 新規登録ボタン（大きなグラデーションボタン） %>
    <%= link_to new_registration_path(resource_name), class: "block w-full" do %>
      <div class="bg-gradient-to-b from-orange-300 to-orange-500 text-white text-center font-bold text-lg py-4 rounded-2xl shadow-lg hover:opacity-90 transition">
        新規会員登録（無料）
      </div>
    <% end %>
  </div>

</div>
